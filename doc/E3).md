

Mise en situation 2 (E3)


Réalisation d’un service d’intelligence artificielle

Service d’IA: [Nom et brève description du service]




Formation Développeur en Intelligence Artificielle
RNCP 37827
Promotion 2023-2024




[Prénom Nom]




 
SOMMAIRE



Introduction	3
Expression du besoin	3
Développement de l’API	4
Spécifications fonctionnelles et techniques	4
Conception de l’architecture de l’API	4
Environnement de développement	4
Tests de l’API	4
Intégration de l’API	5
Etapes d’authentification	5
Communication avec les points de terminaison	5
Adaptation de l’interface	5
Tests d’intégration	5
Monitoring du modèle d’IA	6
Métriques de monitoring	6
Outil(s) de monitoring	6
Restitution du monitoring	6
Test de la chaine de monitoring	6
Tests automatisés du modèle d’IA	7
Situations de test	7
Outils de test	7
Interprétation des tests	7
Livraison continue du modèle d’IA	8
Définition de la chaine de livraison	8
Déclencheurs	8
Configuration de la chaine de livraison	8
Documentation	9
Perspectives et améliorations	9
Conclusions	9
Annexes	10


Note : il est attendu un rapport de 15 à 20 pages pour ce livrable
 
Introduction
Quelques éléments pour introduire le rapport.
Faire référence au rapport E2 (veille IA), le rapport E3 étant la continuité du E2.


Expression du besoin
L’expression d’un besoin réel ou fictif de fonctionnalités d’intelligence artificielle. Ce besoin peut résulter d’une commande client comme d’une sollicitation interne d’un collaborateur
data scientist par exemple.
Si les besoins ont déjà été décrits dans le livrable E2, vous pouvez simplement en faire référence pour rappel.




 
Développement de l’API
Exposer un modèle d’intelligence artificielle en utilisant l’architecture REST pour permettre l’interaction entre le modèle et les autres composants du projet.
Spécifications fonctionnelles et techniques
Analyses des spécifications fonctionnelles et techniques
Intégrer un schéma fonctionnel si possible.



Conception de l’architecture de l’API
Conception de l’architecture de l’API, les points de terminaison, les règles d’accès, etc.
Les recommandations de sécurisation d’une API du top 10 OWASP sont intégrées quand nécessaires.


Environnement de développement


Tests de l’API
Les tests couvrent tous les points de terminaison dans le respect des spécifications.
Les tests s’exécutent sans bug.
Les résultats des tests sont correctement interprétés.

 
Intégration de l’API
Intégration dans une application, en respectant les spécifications du projet et les normes d’accessibilité en vigueur, à l’aide de la documentation technique de l’API, afin de créer les fonctionnalités d’intelligence artificielle de l’application.
Etapes d’authentification


Communication avec les points de terminaison


Adaptation de l’interface


Tests d’intégration
Les tests d’intégration couvrent tous les points de terminaison exploités.
Les tests s’exécutent en totalité.
Les résultats des tests sont correctement interprétés.

 
Monitoring du modèle d’IA
A partir des métriques courantes et spécifiques au projet, en intégrant les outils de collecte, d’alerte et de restitution des données de monitorage pour permettre l’amélioration du modèle de façon itérative.
Métriques de monitoring
Exemples : stabilité des données, performance (précision) du modèle d’IA, bonne santé du système (accès, temps de réponse, gestion des erreurs), etc.

Outil(s) de monitoring


Restitution du monitoring
Restitution des métriques (dashboard, tableau, etc)
Alertes éventuelles (mail, notifications, etc)


Test de la chaine de monitoring
Chaine de monitoring : définition des métriques => logging => tableau de bord => déclencheur éventuel

 
Tests automatisés du modèle d’IA
Définir les règles de validation des jeux de données, des étapes de préparation des données, d'entraînement, d’évaluation et de validation du modèle pour permettre son intégration en continu et garantir un niveau de qualité élevé.

Situations de test
Lister les cas à tester. Pour chaque cas, définir :
-	la partie du modèle visée par le test
-	le périmètre du test
-	la stratégie de test

A titre d’exemple :
Cas de test	Partie du modèle	Périmètre de test	Stratégie
Preprocessing	Preprocessing des données	Jeu de données préalablement défini : toutes les variables sont considérées	Test unitaire avec assertion
Résultat attendu toutes les variables sont standardisées
Entraînement	Entrainement du modèle	Jeu de données d'entraînement, vérification de la taille, du format, de la nature des données, des variables disponibles	Test unitaire avec assertion
Inférence	Inférence par le modèle pour prédire des clusters sur un jeu de données de test	Jeu de données de test : 100 données préalablement définies, 4 clusters attendus	Test unitaire : tester la fonction predict_cluster()
API	API du modèle de clustering	Connexion avec succès et échec d’authentification	Test unitaire avec assertion

Outils de test
Donner les outils utilisés pour le test.

Interprétation des tests
 
Livraison continue du modèle d’IA
Installer les outils et appliquer les configurations souhaitées, dans le respect du cadre imposé par le projet et dans une approche MLOps, pour automatiser les étapes de validation, de test, de packaging et de déploiement du modèle.


Définition de la chaine de livraison
A titre d’exemple :

Etape	Tâche	Déclencheur
Test du modèle	Test défini dans la section précédente	Github Action : push on test
Déclenché après le test sur les données
		
		



Déclencheurs
Paramétrage et intégration des déclencheurs dans la chaine de livraison

Configuration de la chaine de livraison
Paramétrage, variables d’environnement, dépendances, etc.

 
Documentation 
Rédiger une documentation technique portant sur :
-	l’architecture et tous les points de terminaisons de l’API.
-	les règles d’authentification et/ou d’autorisation d’accès à l’API.
-	chaîne de monitoring couvrant la procédure d’installation, de configuration et d’utilisation du monitoring à destinations des équipes techniques
-	installation de l’environnement de test, les dépendances installées, procédure d’exécution des test et calculs de la couverture
-	installation, configuration et test de la chaine de livraison continue


Perspectives et améliorations
Déploiement et usage à venir de l’API développée
Les points possibles d’améliorations si il y en a


Conclusions

 
Annexes
Toutes captures d’écran qui vous semblent utiles et nécessaires



et, en suivant la structure de l'exemple que vous avez fourni.

### Architecture de l'API du Projet AutoML-Gr4-1 Principaux Endpoints :
Gestion des données (Fichiers CSV) :

- POST /api/upload/ : Permet à un utilisateur authentifié de téléverser un nouveau fichier de données au format CSV. Le système valide le fichier et le sauvegarde pour un traitement ultérieur.
- GET /csv/ : Affiche la liste de tous les fichiers CSV qui ont été téléversés par l'utilisateur, leur permettant de les visualiser ou de lancer des entraînements.
Gestion des utilisateurs :

- POST /users/register/ : Endpoint web pour la création d'un nouveau compte utilisateur.
- POST /users/login/ : Endpoint web pour l'authentification des utilisateurs.
- GET /api/user/ : Récupère les informations de l'utilisateur actuellement connecté (nécessite une authentification).
Fonctionnalités IA (Machine Learning) :

- POST /api/train/<int:pk>/ : Lance l'entraînement d'un modèle de Machine Learning sur un fichier CSV spécifique (identifié par son pk ). L'utilisateur doit spécifier la colonne cible. Les résultats et le modèle sont tracés avec MLflow.
- POST /api/test-model/<int:pk>/<str:model_name>/ : Permet de tester un modèle déjà entraîné ( model_name ) avec de nouvelles données fournies dans la requête. Retourne la prédiction calculée par le modèle.
Métriques de supervision :

- GET /api/monitoring/ : Expose les métriques clés de l'application (ex: nombre de requêtes, latence) dans un format JSON simple pour une consultation rapide.
- GET /api/monitoring/metrics/ : Expose les métriques au format textuel compatible avec Prometheus, permettant une supervision continue et la création d'alertes.
Service frontend :

- GET / : Sert la page d'accueil de l'application web, qui est le point d'entrée principal pour les utilisateurs interagissant via l'interface graphique.
### Règles d’accès et sécurité (Basées sur les capacités de Django) :
Des mesures de sécurité robustes ont été intégrées en s'appuyant sur les mécanismes fournis par Django et Django Rest Framework pour protéger l'application.

- Authentification : L'API utilise l'authentification par session de Django ( SessionAuthentication ). La plupart des endpoints, notamment ceux liés à la gestion des données et à l'IA, requièrent que l'utilisateur soit authentifié. Cela empêche les accès non autorisés et garantit que les actions sont tracées par utilisateur, ce qui est un principe fondamental pour éviter les failles d'authentification (similaire à A07:2021 – Identification and Authentication Failures de l'OWASP).
- Contrôle d’accès : L'accès aux données est cloisonné par utilisateur. Un utilisateur ne peut voir et interagir qu'avec les fichiers CSV qu'il a lui-même téléversés. De plus, l'interface d'administration de Django ( /admin/ ) est réservée aux super-utilisateurs, offrant un contrôle d'accès strict sur les modèles de données critiques. Cela prévient les violations d'accès où un utilisateur pourrait accéder aux ressources d'un autre (similaire à A01:2021 – Broken Access Control ).
- Validation des entrées : Django Rest Framework et les formulaires Django assurent une validation rigoureuse de toutes les données reçues par l'API.
  
  - Pour l'upload de fichiers, le système est configuré pour traiter spécifiquement les fichiers CSV, rejetant les autres formats.
  - Lors de l'entraînement, les paramètres comme la colonne cible sont validés pour s'assurer qu'ils correspondent aux colonnes du fichier.
    Cette validation systématique en amont protège l'application contre les injections de données malveillantes et les erreurs de traitement (similaire à A03:2021 – Injection et A08:2021 – Software and Data Integrity Failures ).
- Sécurisation de la configuration : En environnement de production, des en-têtes et paramètres de sécurité sont activés via settings.py ( SECURE_SSL_REDIRECT , SESSION_COOKIE_SECURE , CSRF_COOKIE_SECURE ) pour forcer l'utilisation de HTTPS et protéger les cookies de session, renforçant ainsi la sécurité globale de la communication (similaire à A02:2021 – Cryptographic Failures ).